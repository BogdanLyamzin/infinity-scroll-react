<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Title</title>
</head>
<style>
    .lazy-img-list {
        list-style: none;
    }

    .lazy-img {
        width: 200px;
        height: 200px;
        border: 1px solid black;
    }
</style>
<body>
<ul class="lazy-img-list">
    <li class="lazy-img">1</li>
    <li class="lazy-img">2</li>
    <li class="lazy-img">3</li>
    <li class="lazy-img">4</li>
    <li class="lazy-img">5</li>
    <li class="lazy-img">6</li>
    <li class="lazy-img">7</li>
    <li class="lazy-img">8</li>
    <li class="lazy-img">9</li>
    <li class="lazy-img">10</li>
    <li class="lazy-img">11</li>
    <li class="lazy-img">12</li>
    <li class="lazy-img">13</li>
    <li class="lazy-img">14</li>
    <li class="lazy-img">15</li>
    <li class="lazy-img">16</li>
    <li class="lazy-img">17</li>
    <li class="lazy-img">18</li>
    <li class="lazy-img">19</li>
    <li class="lazy-img">20</li>
</ul>
<script>
    // ждем полной загрузки страницы
    window.onload = () => {
        // устанавливаем настройки
        const options = {
            // родитель целевого элемента - область просмотра
            root: null,
            // без отступов
            rootMargin: '0px',
            // процент пересечения - половина изображения
            threshold: 0.1
        };

        const intersectionCallback = (entries, observer) => {
            // для каждой записи-целевого элемента
            entries.forEach(entry => {
                const lazyImg = entry.target
                // если элемент является наблюдаемым
                if (entry.isIntersecting) {
                    // меняем фон контейнера
                    lazyImg.style.background = 'deepskyblue'
                }
                else {
                    lazyImg.style.background = 'white'
                }
            })
        };

        // создаем наблюдатель
        const observer = new IntersectionObserver(intersectionCallback, options);

        // с помощью цикла следим за всеми img на странице
        const arr = document.querySelectorAll('.lazy-img')
        arr.forEach(item => {
            observer.observe(item)
        })
    }
</script>
</body>
</html>